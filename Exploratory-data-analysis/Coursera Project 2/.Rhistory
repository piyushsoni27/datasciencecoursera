plot(as.numeric(dt$V3) ~ a, type = "l", ylab = "Global Active Power (kilowatts)")
plot(as.numeric(dt$V3) ~ as.character(a), type = "l", ylab = "Global Active Power (kilowatts)")
plot(as.numeric(dt$V3) ~ a, ylab = "Global Active Power (kilowatts)")
plot(dt$V3 ~ a, ylab = "Global Active Power (kilowatts)")
a
plot(as.numeric(dt$V3) ~ as.character(a), type = "l", ylab = "Global Active Power (kilowatts)")
plot(as.numeric(dt$V3) ~ as.character(a), ylab = "Global Active Power (kilowatts)")
plot(as.numeric(dt$V3) ~ a, ylab = "Global Active Power (kilowatts)")
a <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
head(a)
plot(as.numeric(dt$V3) ~ a, ylab = "Global Active Power (kilowatts)")
plot(as.numeric(dt$V3) , a, ylab = "Global Active Power (kilowatts)")
plot(a,as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)")
plot2 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
date_time <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
png("plot1.png", height = 480, width = 480)
plot(a,as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)")
dev.off()
}
plot2()
png("plot1.png", height = 480, width = 480)
+   plot(a,as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)")
+   dev.off()
png("plot1.png", height = 480, width = 480)
plot(a,as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)")
dev.off()
plot2 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
date_time <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
png("plot2.png", height = 480, width = 480)
plot(a,as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)")
dev.off()
}
plot2()
plot1 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
dt <- data[data$V1 == "2007-02-01" | data$V1 == "2007-02-02", ]
png("plot1.png", height = 480, width = 480)
hist(as.numeric(dt$V3),col = "red", xlab = "Global Active Power (kilowatts)", main = "Global Active Power")
dev.off()
}
plot1()
plot(dt$V7, type = "l", col="black")
plot(dt$V8, type = "l", col = "red")
plot(dt$V7, type = "l", col="black"),plot(dt$V8, type = "l", col = "red")
plot(dt$V7, type = "l", col="black");plot(dt$V8, type = "l", col = "red")
plot(dt$V7, type = "l", col="black")
with(dt, points(dt$V7,a,col="red"))
plot(dt$V7, type = "l", col="black")
lines(dt$V8, type = "l", col = "red")
lines(dt$V9, type = "l", col = "blue")
plot(dt$V7,a, type = "l", col="black")
plot(a, dt$V7, type = "l", col="black")
lines(a, dt$V9, type = "l", col = "blue")
lines(a, dt$V8, type = "l", col = "red")
plot(a, dt$V7, type = "l", col="black", xlab = "")
lines(a, dt$V8, type = "l", col = "red")
lines(a, dt$V9, type = "l", col = "blue")
plot(a, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(a, dt$V8, type = "l", col = "red")
lines(a, dt$V9, type = "l", col = "blue")
legend("topright", col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = 18, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = 17, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = 20, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = 10, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = "line", col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = "--", col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = "----", col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = "--", col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = 8, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",pch = c(15,16), col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
legend("topright",lty = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
plot2 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
date_time <- strptime(paste(as.character(data$V1), data$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
png("plot3.png", height = 480, width = 480)
plot(date_time, data$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, data$V8, type = "l", col = "red")
lines(date_time, data$V9, type = "l", col = "blue")
dev.off()
}
plot2
plot2()
date_time <- strptime(paste(as.character(data$V1), data$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
plot(date_time, data$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
plot(date_time, as.numeric(data$V7), type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
plot(a, as.numeric(data$V7), type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
plot(a, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
a <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
plot(a, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
date_time <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
plot2 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
dt <- data[data$V1 == "2007-02-01" | data$V1 == "2007-02-02", ]
date_time <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
png("plot3.png", height = 480, width = 480)
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
dev.off()
}
plot2()
par(mfrow = c(2,2))
plot(a, dt$V3)
plot(a, dt$V3, type  = "l")
plot(a, dt$V3, type  = "l")
plot(a, dt$V3, type  = "l")
plot(a, dt$V3, type  = "l")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V5) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "datetime")
plot(date_time , as.numeric(dt$V5) ,type = 'l', ylab = "Voltage", xlab = "datetime")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V5) ,type = 'l', ylab = "Voltage", xlab = "datetime")
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
plot(date_time , as.numeric(dt$V4) ,type = 'l', ylab = "Global_reactive_Power (kilowatts)", xlab = "datetime")
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1, col = c("black", "red", "blue"), c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright", col = c("black", "red", "blue"), c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1,c("Sub_metering_1","Sub_metering_1","Sub_metering_1"), col = c("black", "red", "blue") )
plot4 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
dt <- data[data$V1 == "2007-02-01" | data$V1 == "2007-02-02", ]
date_time <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
par(mfrow = c(2,2))
png("plot3.png", height = 480, width = 480)
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V5) ,type = 'l', ylab = "Voltage", xlab = "datetime")
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
plot(date_time , as.numeric(dt$V4) ,type = 'l', ylab = "Global_reactive_Power (kilowatts)", xlab = "datetime")
dev.off()
}
plot4
plot4()
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1,c("Sub_metering_1","Sub_metering_1","Sub_metering_1"), col = c("black", "red", "blue"), cex = 0.75 )
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1,c("Sub_metering_1","Sub_metering_1","Sub_metering_1"), col = c("black", "red", "blue"), cex = 0.60 )
plot4 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
dt <- data[data$V1 == "2007-02-01" | data$V1 == "2007-02-02", ]
date_time <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
par(mfrow = c(2,2))
png("plot3.png", height = 480, width = 480)
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V5) ,type = 'l', ylab = "Voltage", xlab = "datetime")
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"), cex = 0.61)
plot(date_time , as.numeric(dt$V4) ,type = 'l', ylab = "Global_reactive_Power (kilowatts)", xlab = "datetime")
dev.off()
}
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1,c("Sub_metering_1","Sub_metering_1","Sub_metering_1"), col = c("black", "red", "blue"), cex = 0.60 )
plot4()
plot4 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
dt <- data[data$V1 == "2007-02-01" | data$V1 == "2007-02-02", ]
date_time <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
par(mfrow = c(2,2))
png("plot4.png", height = 480, width = 480)
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V5) ,type = 'l', ylab = "Voltage", xlab = "datetime")
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"), cex = 0.61)
plot(date_time , as.numeric(dt$V4) ,type = 'l', ylab = "Global_reactive_Power (kilowatts)", xlab = "datetime")
dev.off()
}
plot4()
plot4 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
dt <- data[data$V1 == "2007-02-01" | data$V1 == "2007-02-02", ]
date_time <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
png("plot4.png", height = 480, width = 480)
par(mfrow = c(2,2))
plot(date_time , as.numeric(dt$V3) ,type = 'l', ylab = "Global Active Power (kilowatts)", xlab = "")
plot(date_time , as.numeric(dt$V5) ,type = 'l', ylab = "Voltage", xlab = "datetime")
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"), cex = 0.61)
plot(date_time , as.numeric(dt$V4) ,type = 'l', ylab = "Global_reactive_Power (kilowatts)", xlab = "datetime")
dev.off()
}
plot4()
plot3 <- function(){
data <- read.table("household_power_consumption.txt", sep = ";", skip = 1, colClasses = "character")
data$V1 <- as.Date(data$V1, "%d/%m/%Y")
dt <- data[data$V1 == "2007-02-01" | data$V1 == "2007-02-02", ]
date_time <- strptime(paste(as.character(dt$V1), dt$V2),"%Y-%m-%d %H:%M:%S", tz = "UTC")
png("plot3.png", height = 480, width = 480)
plot(date_time, dt$V7, type = "l", col="black", xlab = "", ylab = "Energy Sub metering")
lines(date_time, dt$V8, type = "l", col = "red")
lines(date_time, dt$V9, type = "l", col = "blue")
legend("topright",lty = 1, col = c("black", "red", "blue"), legend = c("Sub_metering_1","Sub_metering_1","Sub_metering_1"))
dev.off()
}
plot3()
library(lattice)
library(ggplot2)
library(nlme)
library(lattice)
xyplot(weight ~ Time | Diet, BodyWeight)
?trellis.par.set
library(datasets)
data(airquality)
qplot(Wind, Ozone, data = airquality, facets = . ~ factor(Month))
airquality = transform(airquality, Month = factor(Month))
qplot(Wind, Ozone, data = airquality, facets = . ~ Month)
setwd("../../media/piyush/New Volume1/Work/datasciencecoursera/Exploratory-data-analysis/Coursera Project 2/")
dt1 <- readRDS("summarySCC_PM25.rds")
dt2 <- readRDS("Source_Classification_Code.rds")
dt3 <- subset(dt1, fips == "24510")
View(dt2)
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
View(d)
dt3 <- dt3[dt3$SCC %in% d$SCC,]
View(dt3)
View(dt1)
a <- tapply(dt3$Emissions, dt3$year, sum)
plot(rownames(data.frame(a)), a, type = "l", xlab = "Years", ylab = "Total PM2.5", main = "Total PM2.5 emissions from coal combustion-related sources")
dt3 <- subset(dt1, fips == "06037")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, dt3$year, sum)
plot(rownames(data.frame(a)), a, type = "l", xlab = "Years", ylab = "Total PM2.5", main = "Total PM2.5 emissions from coal combustion-related sources")
a
data.frame((a))
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, dt3$year, sum)
a
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$type), sum)
a
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$SCC), sum)
a
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$fips), sum)
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$fips), sum)
a
b <- strsplit(row.names(data.frame(a)), "\\.")
b <- t(data.frame(b))
b
d <- data.frame(a,b)
d
colnames(d) <- c("Total_emission", "Year", "type")
colnames(d) <- c("Total_emission", "Year", "region")
d
qplot(Year, Total_emission, col = type, group = type, data = d, main = "Total emission for each type") + geom_line()
library(ggplot2)
qplot(Year, Total_emission, col = type, group = type, data = d, main = "Total emission for each type") + geom_line()
qplot(Year, Total_emission, col = region, group = region, data = d, main = "Total emission for each type") + geom_line()
lavels(d$region)
levels(d$region)
levels(d$region) <- c("California", "Baltimore")
d
qplot(Year, Total_emission, col = region, group = region, data = d, main = "Total emission for each type") + geom_line()
library(ggplot2)
plot6 <- function(dt1){
# dt1 <- readRDS("summarySCC_PM25.rds")
# dt2 <- readRDS("Source_Classification_Code.rds")
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$fips), sum)
b <- strsplit(row.names(data.frame(a)), "\\.")
b <- t(data.frame(b))
d <- data.frame(a,b)
colnames(d) <- c("Total_emission", "Year", "region")
levels(d$region) <- c("California", "Baltimore")
png("plot.png", width = 480, height = 480)
plot(Year, Total_emission, col = region, group = region, data = d, main = "Total emission for each type") + geom_line()
dev.off()
}
plot5(dt1)
library(ggplot2)
plot6 <- function(dt1){
# dt1 <- readRDS("summarySCC_PM25.rds")
# dt2 <- readRDS("Source_Classification_Code.rds")
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$fips), sum)
b <- strsplit(row.names(data.frame(a)), "\\.")
b <- t(data.frame(b))
d <- data.frame(a,b)
colnames(d) <- c("Total_emission", "Year", "region")
levels(d$region) <- c("California", "Baltimore")
png("plot6.png", width = 480, height = 480)
plot(Year, Total_emission, col = region, group = region, data = d, main = "Total emission for each type") + geom_line()
dev.off()
}
plot6(dt1)
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$fips), sum)
b <- strsplit(row.names(data.frame(a)), "\\.")
b <- t(data.frame(b))
d <- data.frame(a,b)
colnames(d) <- c("Total_emission", "Year", "region")
levels(d$region) <- c("California", "Baltimore")
png("plot6.png", width = 480, height = 480)
plot(Year, Total_emission, col = region, group = region, data = d, main = "Total emission for each type") + geom_line()
dev.off()
d
library(ggplot2)
plot6 <- function(dt1){
# dt1 <- readRDS("summarySCC_PM25.rds")
# dt2 <- readRDS("Source_Classification_Code.rds")
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$fips), sum)
b <- strsplit(row.names(data.frame(a)), "\\.")
b <- t(data.frame(b))
d <- data.frame(a,b)
colnames(d) <- c("Total_emission", "Year", "region")
levels(d$region) <- c("California", "Baltimore")
png("plot6.png", width = 480, height = 480)
qplot(Year, Total_emission, col = region, group = region, data = d, main = "Total emission for each type") + geom_line()
dev.off()
}
plot6(dt1)
png("plot6.png", width = 480, height = 480)
qplot(Year, Total_emission, col = region, group = region, data = d, main = "Total emission for each type") + geom_line()
dev.off()
d <- data.frame(a,b)
colnames(d) <- c("Total_emission", "Year", "region")
levels(d$region) <- c("LosAngeles", "Baltimore")
png("plot6.png", width = 480, height = 480)
qplot(Year, Total_emission, col = region, group = region,
data = d, main = "Total emissions from motor vehicle sources") + geom_line()
dev.off()
dt3 <- subset(dt1, fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, dt3$year, sum)
png("plot5.png", width = 480, height = 480)
plot(rownames(data.frame(a)), a, type = "l", xlab = "Years", ylab = "Total PM2.5",
main = "Total PM2.5 emissions from motor vehicle sources for Baltimore City")
dev.off()
dt3 <- subset(dt1, fips == "24510")
c <- grepl("[Mm]otor [Vv]ehicle", as.character(dt2$Short.Name))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, dt3$year, sum)
png("plot5.png", width = 480, height = 480)
plot(rownames(data.frame(a)), a, type = "l", xlab = "Years", ylab = "Total PM2.5",
main = "Total emissions from motor vehicle sources for Baltimore City")
dev.off()
c <- grepl("[Vv]ehicle", as.character(dt2$EI.Sector)
)
d <- dt2[c,]
View(d)
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, dt3$year, sum)
png("plot5.png", width = 480, height = 480)
plot(rownames(data.frame(a)), a, type = "l", xlab = "Years", ylab = "Total PM2.5",
main = "Total emissions from motor vehicle sources for Baltimore City")
dev.off()
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, dt3$year, sum)
plot(rownames(data.frame(a)), a, type = "l", xlab = "Years", ylab = "Total PM2.5",
main = "Total emissions from motor vehicle sources for Baltimore City")
a
dt3 <- subset(dt1, fips == "24510")
dt3 <- dt3[dt3$SCC %in% d$SCC,]
plot(rownames(data.frame(a)), a, type = "l", xlab = "Years", ylab = "Total PM2.5",
main = "Total emissions from motor vehicle sources for Baltimore City")
a <- tapply(dt3$Emissions, dt3$year, sum)
plot(rownames(data.frame(a)), a, type = "l", xlab = "Years", ylab = "Total PM2.5",
main = "Total emissions from motor vehicle sources for Baltimore City")
plot5 <- function(dt1){
# dt1 <- readRDS("summarySCC_PM25.rds")
# dt2 <- readRDS("Source_Classification_Code.rds")
dt3 <- subset(dt1, fips == "24510")
c <- grepl("[Vv]ehicle", as.character(dt2$EI.Sector))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, dt3$year, sum)
png("plot5.png", width = 480, height = 480)
plot(rownames(data.frame(a)), a, type = "l", xlab = "Years", ylab = "Total PM2.5",
main = "Total emissions from vehicles sources for Baltimore City")
dev.off()
}
plot5(dt1)
library(ggplot2)
plot6 <- function(dt1){
# dt1 <- readRDS("summarySCC_PM25.rds")
# dt2 <- readRDS("Source_Classification_Code.rds")
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Vv]ehicle", as.character(dt2$EI.Sector))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$fips), sum)
b <- strsplit(row.names(data.frame(a)), "\\.")
b <- t(data.frame(b))
d <- data.frame(a,b)
colnames(d) <- c("Total_emission", "Year", "region")
levels(d$region) <- c("LosAngeles", "Baltimore")
png("plot6.png", width = 480, height = 480)
qplot(Year, Total_emission, col = region, group = region,
data = d, main = "Total emissions from motor vehicle sources") + geom_line()
dev.off()
}
plot6(dt1)
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Vv]ehicle", as.character(dt2$EI.Sector))
d <- dt2[c,]
t3 <- dt3[dt3$SCC %in% d$SCC,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$fips), sum)
b <- strsplit(row.names(data.frame(a)), "\\.")
b <- t(data.frame(b))
d <- data.frame(a,b)
colnames(d) <- c("Total_emission", "Year", "region")
levels(d$region) <- c("LosAngeles", "Baltimore")
d
qplot(Year, Total_emission, col = region, group = region,
data = d, main = "Total emissions from motor vehicle sources") + geom_line()
png("plot6.png", width = 480, height = 480)
qplot(Year, Total_emission, col = region, group = region,
data = d, main = "Total emissions from motor vehicle sources") + geom_line()
dev.off()
dt3 <- subset(dt1, fips == "06037" | fips == "24510")
c <- grepl("[Vv]ehicle", as.character(dt2$EI.Sector))
d <- dt2[c,]
dt3 <- dt3[dt3$SCC %in% d$SCC,]
a <- tapply(dt3$Emissions, interaction(dt3$year,dt3$fips), sum)
b <- strsplit(row.names(data.frame(a)), "\\.")
b <- t(data.frame(b))
d <- data.frame(a,b)
colnames(d) <- c("Total_emission", "Year", "region")
levels(d$region) <- c("LosAngeles", "Baltimore")
qplot(Year, Total_emission, col = region, group = region,
data = d, main = "Total emissions from motor vehicle sources") + geom_line()
a
d
